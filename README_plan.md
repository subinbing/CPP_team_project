
# 주제 : OpenCV4 C++를 이용하여 움직이는 물체 추적하기
### * 과목(과제) : C++ 프로그래밍 (C++ 팀프로젝트) 
### * 지도교수 : 컴퓨터공학과 심재창 

### * 9조 팀장 및 참여학생 담당업무
1) 팀장/박수빈/전자공학과/20191072/주제 구상 및 선정, 코드 구현, 논문 작성, PPT 제작 <br>
2) 팀원/백소원/컴퓨터공학과/20181251/주제 구상 및 선정, 코드 구현, 논문 작성, 리플릿 제작 

---

### 1. 과제요약
동영상에서 움직이는 물체를 추적하기 위해 MeanShift의 개념을 사용하여 프로그램 제작

---

### 2. 과제 개요
#### 2-1) 과제 배경 
요즘 인공지능과 4차 산업 혁명이 발전하면서 사람들의 범죄나 위급 상황이 더 많이 생기고 있습니다. 그래서 그러한 위급 상황, 범죄 상황 등을 미리 예방해야 합니다. 그 뿐만 아니라 자동차나 비행기 등 교통수단에서도 다양한 문제가 발생하게 됩니다. 그래서 이러한 프로그램으로 문제점을 해결하고자 합니다.

#### 2-2) 과제 필요성 
OpenCV4 C++를 이용하여 동영상에서 특정한 객체의 범위를 정하여 객체를 추적하여 실생활에도 적용시키고 유용하게 활용할 수 있습니다.

#### 2-3) 과제 선택 동기 
OpenCV를 C++로 공부하던 중에 단순히 영상을 추적하는 것이 아니라 동영상을 사용하여 적용시키고, 그 영상에 움직이는 특정한 물체를 검출해보고 싶어 이 과제를 선택하게 되었습니다. 처음에 생각한 것은 비행기를 추적하는 것이었지만, 이에 더하여 화재 분야에서도 더 잘 활용될 것입니다. 화재가 발생하기 전에 파악하여 대형 화재를 막을 수 있다고 생각해서 이 과제를 선택하였습니다.

---

### 3. 과제 목표 및 내용
#### 3-1) 정량적/정성적 목표
|번호|평가기준|내용|
|------|---|---|
|1|직관성|누구나 쉽게 이용하고 객체를 추적할 수 있다.|
|2|활용성|기능을 확장시켜 다른 분야에 적용할 수 있다.|
|3|효율성|큰 문제가 발생하기 전에 미리 방지할 수 있다. ex) 화재|

=> 목표 : 직관성, 활용성, 효율성 모두 충족

#### 3-2) 과제의 내용 
OpenCV4 C++을 사용하여 비디오의 연속된 이미지에서 동일한 객체를 찾고 추적하는 알고리즘인 MeanShift를 사용하여 특정 물체를 추적함
Webcam과 video 영상에 ROI를 지정하여 Meanshift를 적용한 코드를 실행시켜 동영상에서 원하는 부분를 박스로 표시하여 그 물체를 따라가게 된다.
1. MeanShift 알고리즘을 OpenCV에 적용하여 실행시킨다.
2. 추적할 객체 대상을 설정한다.
3. 실행한다.
4. 지정한 부분에 대한 객체를 추적한다.

>> MeanShift ?
- 아래의 사진처럼 빨간 점들이 한 곳에 밀집한다.
<img width="296" alt="image" src="https://user-images.githubusercontent.com/87634136/170644466-1bb487ae-ad9f-4390-a5a6-40cdb277d65a.png">
- 초기 윈도우 : 파란색의 원 (C1)
- C1의 원래 중심 점 : 파란색 사각형 (C1_o)
- 이 윈도우에 포함된 빨간 점들의 무게 중심점을 구하면 파란 원과 파란 사각형의 위치가 달라지게 된다. 
- 여기서 파란색 원으이 중심점을 C1_r로 이동하고, 이동 된 윈도우에 포함된 포인트의 무게 중심점을 구한다.
- 원의 중심점과 동일하지 않다면 다시 원의 중심을 새롭게 구한 무게 중심점으로 이동시킨다.
- 이 과정을 반복한다.
- 반복하다가 원의 중심점과 원에 포함된 포인트의 무게 중심점 위치가 동일할 때 반복을 멈춘다.
- 이 최종적으로 얻은 원, 윈도우가 최대 픽셀 분포를 가지게 된다. 
- 최종적으로 얻은 원을 초록색 원 (C2) 이라고 표시한다. 

--- 

### 4. 결과물
#### 4-1) 예상 결과물 
<img width="438" alt="image" src="https://user-images.githubusercontent.com/87634136/170645860-10ea42fe-8e5e-4a3d-8753-ba153b58d29b.png">


#### 4-2) 기대 효과 및 활용 방안
- 비행기 뿐만 아니라 다른 분야에서도 추적할 객체를 설정하여 사용할 수 있다.
- 예를 들어, 자동차나 화재 분야에서 사용할 수 있다.
- 화재를 예로 들면, 화재가 발생할 때 작은 불꽃부터 검출하게 되면 대형 화재를 막을 수 있게 된다. 그러므로, 인명피해를 줄일 수 있다.

---

### 5. 참고 문헌 및 자료
[1] simplecpp, https://cafe.naver.com/simplecpp, (April 30, 2022) <br>
[2] w3schools, https://www.w3schools.com/CPP/cpp_classes.asp <br>
[3] GIS DEVELOPER, http://www.gisdeveloper.co.kr/?p=6838, (May 10, 2019) <br>
[4] OpenCV, https://docs.opencv.org/3.4/d7/d00/tutorial_meanshift.html <br>
[5] Junsae dancanbang, https://wjunsea.tistory.com/88, (August 6, 2021) <br>
[6] OpenCV 강좌 - Meanshift 이론과 C++ 예제, https://www.youtube.com/watch?v=4bMYkEjnewI, (July 4,2019) <br>


---

### 6. 수행일정(도표)
|번호|내용|추진 일정|비고|
|------|---|---|---|
|1|주제 구상 및 선정|5.18.수|-|
|2|과제 계획서 작성|5.22.일|-|
|3|코드 구현|5.23.월 ~ |-|
|4|구현 및 테스트(+보고서 작성)|5.28.토|-|
|5|논문 작성|5.29.일 ~|-|
|5|PPT & 리플릿 작성|6.1.수 ~|-|
